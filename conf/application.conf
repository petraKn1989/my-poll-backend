# ============================
#  GLOBAL PLAY CONFIG
# ============================
play.server.pidfile.path = /dev/null

# ============================
#  CORS – povolení pro frontend
# ============================
play.filters.enabled += play.filters.cors.CORSFilter

play.filters.cors {
  allowedOrigins = [
    "http://localhost:3000",
    "http://localhost:4200",
    "http://localhost:4300",
    "https://petrakn1989.github.io"
  ]
  allowedHttpMethods = ["GET", "POST", "PUT", "DELETE", "OPTIONS", "PATCH"]
  allowedHeaders = ["Accept", "Origin", "Content-Type", "X-Requested-With", "Authorization"]
  supportsCredentials = true
}

# ============================
#  Povolené hosty
# ============================
play.filters.hosts {
  allowed = [
    "localhost",
    "my-poll-backend-production.up.railway.app"
  ]
}

# ============================
#  SECRET KEY
# ============================
play.http.secret.key = ${?PLAY_SECRET}

# ============================
#  DATABASE – PostgreSQL
# ============================
slick.dbs.default.profile = "slick.jdbc.PostgresProfile$"   # profil Slick pro PostgreSQL
slick.dbs.default.db.driver = "org.postgresql.Driver"       # JDBC driver
slick.dbs.default.db.url = ${?DATABASE_URL}                 # z .env

# pro lokální dev nemusíme connection pool
slick.dbs.default.db.connectionPool = disabled
slick.dbs.default.db.keepAliveConnection = true

# ============================
#  PORT
# ============================
http.port = ${?PORT}
play.server.http.address = "0.0.0.0"

# ============================
#  EVOLUTIONS – vypnuto pro Railway / manuálně
# ============================
play.evolutions.enabled = false
play.evolutions.db.default.enabled = false
